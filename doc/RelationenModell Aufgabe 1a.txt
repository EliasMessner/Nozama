Produkt(ProdNr:PK, Titel NOT NULL, Rating NOT NULL, Verkaufsrang NOT NULL, Bild)

Buch(ProdNr:PK, Autor: FK REF Person, Seitenzahl NOT NULL, Ersch_Datum NOT NULL, isbn UNIQUE NOT NULL, Verlag NOT NULL,
	ProdNr FK REF Produkt(ProdNr))

DVD(ProdNr:PK, Format, Laufzeit, Region_Code,
	ProdNr FK REF Produkt(ProdNr))

Musik_CD(ProdNr:PK, Label NOT NULL, Ersch_Datum NOT NULL, Titel,
	ProdNr FK REF Produkt(ProdNr))

DVD_Person(Dvd:PK, Person:PK, Rolle:PK,
	DVD FK REF DVD(ProdNr), Person FK REF Person(ID))

CD_Kuenstler(Cd:PK, Kuenstler:PK,
	Cd FK REF Musik_CD(ProdNr), Kuenstler FK REF Person(PersID))

Person(ID:PK, Vorname NOT NULL, Nachname NOT NULL)

Kategorie(Name:PK)

Kategorie_Hierarchie(Ueberkategorie:PK, Unterkategorie:PK,
	Ueberkategorie FK REF Kategorie(Name), Unterkategorie FK REF Kategorie(Name)

Produkt_Kategorie(Produkt:PK, Kategorie:PK,
	Produkt FK REF Produkt(ProdNr), Kategorie FK REF Kategorie(Name))

################

Filiale(Name:PK, Anschrift:PK)

Filialen_Angebot(ArtID:PK, FilName, FilAnschrift, Preis, Zustand NOT NULL
	ProdID FK REF Produkt, (FilName, FilAnschrift) FK REF Filiale)

Kunde(KundenNr:PK, Vorname NOT NULL, Nachname NOT NULL, letzteKontoNr NOT NULL, letzteLieferAdresse NOT NULL)

Kauf(KundenNr:PK, ProdID:PK, KaufZeitpunkt:PK, Lieferadresse, KontoNr,
	KundenNr FK REF Kunde, ProdID FK REF Artikel)

Bewertung(KundenNr:PK, ProdID:PK, Rezension, SterneAnzahl NOT NULL,
	KundenNr FK REF Kunde, ProdID FK REF Produkt)

Relation "ähnliche produkte" ist symmetrisch. Deswegen benötigen wir Check-Bedingung ProdID1<ProdID2:

AehnlicheProdukte(ProdID1:PK, ProdID2:PK, anzahlGemeineKategorien NOT NULL,
	ProdID1 FK REF Produkt, ProdID2 FK REF Produkt)

Integritätsbedingungen:
Update von AehnlicheProdukte bei insert, delete in produkt, MusikCD, DVD, Buch oder bei insert/delete in istInKategorie.
Produkt:
	Rating ist Durchschnitt aus allen Bewertungen für dieses Produkt
Buch: 	Ersch_Datum <= Heute
	Seitenzahl > 0
DVD:	Laufzeit > 0
CD: 	Ersch_Datum <= Heute
DVD_Person_Beteiligung:
	Rolle IN ('A', 'C', 'D') //Actor, Creator, Director
